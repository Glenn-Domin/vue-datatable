{"version":3,"file":"vuejs-datatable.js","sources":["../node_modules/vue-runtime-helpers/dist/normalize-component.js","../src/vue-datatable-cell.vue","../src/vue-datatable-header.vue","../node_modules/object-path/index.js","../src/classes/settings.js","../src/vue-datatable-pager-button.vue","../src/classes/column.js","../src/vue-datatable.vue","../src/vue-datatable-pager.vue","../src/classes/handler.js","../src/classes/table-type.js","../index.js","../src/classes/factory.js","../src/es5.js"],"sourcesContent":["'use strict';\n\nfunction normalizeComponent(template, style, script, scopeId, isFunctionalTemplate, moduleIdentifier\n/* server only */\n, shadowMode, createInjector, createInjectorSSR, createInjectorShadow) {\n  if (typeof shadowMode !== 'boolean') {\n    createInjectorSSR = createInjector;\n    createInjector = shadowMode;\n    shadowMode = false;\n  } // Vue.extend constructor export interop.\n\n\n  var options = typeof script === 'function' ? script.options : script; // render functions\n\n  if (template && template.render) {\n    options.render = template.render;\n    options.staticRenderFns = template.staticRenderFns;\n    options._compiled = true; // functional template\n\n    if (isFunctionalTemplate) {\n      options.functional = true;\n    }\n  } // scopedId\n\n\n  if (scopeId) {\n    options._scopeId = scopeId;\n  }\n\n  var hook;\n\n  if (moduleIdentifier) {\n    // server build\n    hook = function hook(context) {\n      // 2.3 injection\n      context = context || // cached call\n      this.$vnode && this.$vnode.ssrContext || // stateful\n      this.parent && this.parent.$vnode && this.parent.$vnode.ssrContext; // functional\n      // 2.2 with runInNewContext: true\n\n      if (!context && typeof __VUE_SSR_CONTEXT__ !== 'undefined') {\n        context = __VUE_SSR_CONTEXT__;\n      } // inject component styles\n\n\n      if (style) {\n        style.call(this, createInjectorSSR(context));\n      } // register component module identifier for async chunk inference\n\n\n      if (context && context._registeredComponents) {\n        context._registeredComponents.add(moduleIdentifier);\n      }\n    }; // used by ssr in case component is cached and beforeCreate\n    // never gets called\n\n\n    options._ssrRegister = hook;\n  } else if (style) {\n    hook = shadowMode ? function () {\n      style.call(this, createInjectorShadow(this.$root.$options.shadowRoot));\n    } : function (context) {\n      style.call(this, createInjector(context));\n    };\n  }\n\n  if (hook) {\n    if (options.functional) {\n      // register for functional component in vue file\n      var originalRender = options.render;\n\n      options.render = function renderWithStyleInjection(h, context) {\n        hook.call(context);\n        return originalRender(h, context);\n      };\n    } else {\n      // inject component registration as beforeCreate hook\n      var existing = options.beforeCreate;\n      options.beforeCreate = existing ? [].concat(existing, hook) : [hook];\n    }\n  }\n\n  return script;\n}\n\nmodule.exports = normalizeComponent;\n//# sourceMappingURL=normalize-component.js.map\n","<style></style>\r\n\r\n<template>\r\n\t<td :style=\"{'text-align': column.align}\">\r\n\t\t <component v-if=\"column.component\" :is=\"column.component\" :row=\"row\" :column=\"column\"></component>\r\n\t\t <span v-else-if=\"column.interpolate\" v-html=\"content\"></span>\r\n\t\t <span v-else>{{ content }}</span>\r\n\t</td>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n\tprops: {\r\n\t\tcolumn: [Object, Array],\r\n\t\trow: [Object, Array]\r\n\t},\r\n\tcomputed: {\r\n\t\tcontent(){\r\n\t\t\treturn this.column.getRepresentation(this.row);\r\n\t\t}\r\n\t},\r\n}\r\n</script>","<style></style>\r\n\r\n<template>\r\n\t<th :style=\"{'text-align': column.align}\" :class=\"[column.headerClass, column.sortable ? 'sortable' : '']\" @click=\"toggleSort(column.sortable)\">\r\n        <component v-if=\"column.headerComponent\" :is=\"column.headerComponent\" :column=\"column\"></component>\r\n        <span v-else>{{ column.label  }}</span>\r\n\t\t<span\r\n\t\t\tv-if=\"column.sortable\"\r\n\t\t\t:class=\"classes\"\r\n\t\t></span>\r\n\t</th>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n\tprops: {\r\n\t\tmodel: {\r\n\t\t\tprop: 'direction',\r\n\t\t\tevent: 'change'\r\n\t\t},\r\n\t\tcolumn: [Object, Array],\r\n\t\tsettings: Object,\r\n\t\tdirection: {\r\n\t\t\ttype: String,\r\n\t\t\tdefault: null\r\n\t\t}\r\n\t},\r\n\tcomputed: {\r\n\t\tcanSort(){\r\n\t\t\treturn this.column.sortable;\r\n\t\t},\r\n\t\tis_sorted_ascending(){\r\n\t\t\treturn this.direction === 'asc';\r\n\t\t},\r\n\t\tis_sorted_descending(){\r\n\t\t\treturn this.direction === 'desc';\r\n\t\t},\r\n\t\tis_sorted(){\r\n\t\t\treturn this.is_sorted_descending || this.is_sorted_ascending;\r\n\t\t},\r\n\t\tclasses(){\r\n\t\t\tvar available_classes = this.settings.get('table.sorting.classes');\r\n\t\t\tvar classes = available_classes.canSort;\r\n\r\n\t\t\tif(!this.canSort){\r\n\t\t\t\treturn '';\r\n\t\t\t}\r\n\r\n\t\t\tif(!this.is_sorted){\r\n\t\t\t\tclasses = classes.concat(available_classes.sortNone);\r\n\r\n\t\t\t\treturn this.joinClasses(classes);\r\n\t\t\t}\r\n\r\n\t\t\tif(this.is_sorted_ascending){\r\n\t\t\t\tclasses = classes.concat(available_classes.sortAsc);\r\n\t\t\t}\r\n\r\n\t\t\tif(this.is_sorted_descending){\r\n\t\t\t\tclasses = classes.concat(available_classes.sortDesc);\r\n\t\t\t}\r\n\r\n\t\t\treturn this.joinClasses(classes);\r\n\t\t}\r\n\t},\r\n\tmethods: {\r\n\t\tjoinClasses(classes){\r\n\t\t\treturn this.unique(classes).join(' ');\r\n\t\t},\r\n\t\ttoggleSort(sortable){\r\n\t\t\tif(sortable) {\r\n\t\t\t\tif(!this.direction || this.direction === null){\r\n\t\t\t\t\tthis.$emit('change', 'asc', this.column);\r\n\t\t\t\t}else if(this.direction === 'asc'){\r\n\t\t\t\t\tthis.$emit('change', 'desc', this.column);\r\n\t\t\t\t}else{\r\n\t\t\t\t\tthis.$emit('change', null, this.column);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\treturn;\r\n\t\t},\r\n\t\tunique(ar) {\r\n\t\t    var seen = {};\r\n\r\n\t\t    return ar.filter(function(item) {\r\n\t\t        return seen.hasOwnProperty(item) ? false : (seen[item] = true);\r\n\t\t    });\r\n\t\t}\r\n\t},\r\n}\r\n</script>\r\n","(function (root, factory){\n  'use strict';\n\n  /*istanbul ignore next:cant test*/\n  if (typeof module === 'object' && typeof module.exports === 'object') {\n    module.exports = factory();\n  } else if (typeof define === 'function' && define.amd) {\n    // AMD. Register as an anonymous module.\n    define([], factory);\n  } else {\n    // Browser globals\n    root.objectPath = factory();\n  }\n})(this, function(){\n  'use strict';\n\n  var toStr = Object.prototype.toString;\n  function hasOwnProperty(obj, prop) {\n    if(obj == null) {\n      return false\n    }\n    //to handle objects with null prototypes (too edge case?)\n    return Object.prototype.hasOwnProperty.call(obj, prop)\n  }\n\n  function isEmpty(value){\n    if (!value) {\n      return true;\n    }\n    if (isArray(value) && value.length === 0) {\n        return true;\n    } else if (typeof value !== 'string') {\n        for (var i in value) {\n            if (hasOwnProperty(value, i)) {\n                return false;\n            }\n        }\n        return true;\n    }\n    return false;\n  }\n\n  function toString(type){\n    return toStr.call(type);\n  }\n\n  function isObject(obj){\n    return typeof obj === 'object' && toString(obj) === \"[object Object]\";\n  }\n\n  var isArray = Array.isArray || function(obj){\n    /*istanbul ignore next:cant test*/\n    return toStr.call(obj) === '[object Array]';\n  }\n\n  function isBoolean(obj){\n    return typeof obj === 'boolean' || toString(obj) === '[object Boolean]';\n  }\n\n  function getKey(key){\n    var intKey = parseInt(key);\n    if (intKey.toString() === key) {\n      return intKey;\n    }\n    return key;\n  }\n\n  function factory(options) {\n    options = options || {}\n\n    var objectPath = function(obj) {\n      return Object.keys(objectPath).reduce(function(proxy, prop) {\n        if(prop === 'create') {\n          return proxy;\n        }\n\n        /*istanbul ignore else*/\n        if (typeof objectPath[prop] === 'function') {\n          proxy[prop] = objectPath[prop].bind(objectPath, obj);\n        }\n\n        return proxy;\n      }, {});\n    };\n\n    function hasShallowProperty(obj, prop) {\n      return (options.includeInheritedProps || (typeof prop === 'number' && Array.isArray(obj)) || hasOwnProperty(obj, prop))\n    }\n\n    function getShallowProperty(obj, prop) {\n      if (hasShallowProperty(obj, prop)) {\n        return obj[prop];\n      }\n    }\n\n    function set(obj, path, value, doNotReplace){\n      if (typeof path === 'number') {\n        path = [path];\n      }\n      if (!path || path.length === 0) {\n        return obj;\n      }\n      if (typeof path === 'string') {\n        return set(obj, path.split('.').map(getKey), value, doNotReplace);\n      }\n      var currentPath = path[0];\n      var currentValue = getShallowProperty(obj, currentPath);\n      if (path.length === 1) {\n        if (currentValue === void 0 || !doNotReplace) {\n          obj[currentPath] = value;\n        }\n        return currentValue;\n      }\n\n      if (currentValue === void 0) {\n        //check if we assume an array\n        if(typeof path[1] === 'number') {\n          obj[currentPath] = [];\n        } else {\n          obj[currentPath] = {};\n        }\n      }\n\n      return set(obj[currentPath], path.slice(1), value, doNotReplace);\n    }\n\n    objectPath.has = function (obj, path) {\n      if (typeof path === 'number') {\n        path = [path];\n      } else if (typeof path === 'string') {\n        path = path.split('.');\n      }\n\n      if (!path || path.length === 0) {\n        return !!obj;\n      }\n\n      for (var i = 0; i < path.length; i++) {\n        var j = getKey(path[i]);\n\n        if((typeof j === 'number' && isArray(obj) && j < obj.length) ||\n          (options.includeInheritedProps ? (j in Object(obj)) : hasOwnProperty(obj, j))) {\n          obj = obj[j];\n        } else {\n          return false;\n        }\n      }\n\n      return true;\n    };\n\n    objectPath.ensureExists = function (obj, path, value){\n      return set(obj, path, value, true);\n    };\n\n    objectPath.set = function (obj, path, value, doNotReplace){\n      return set(obj, path, value, doNotReplace);\n    };\n\n    objectPath.insert = function (obj, path, value, at){\n      var arr = objectPath.get(obj, path);\n      at = ~~at;\n      if (!isArray(arr)) {\n        arr = [];\n        objectPath.set(obj, path, arr);\n      }\n      arr.splice(at, 0, value);\n    };\n\n    objectPath.empty = function(obj, path) {\n      if (isEmpty(path)) {\n        return void 0;\n      }\n      if (obj == null) {\n        return void 0;\n      }\n\n      var value, i;\n      if (!(value = objectPath.get(obj, path))) {\n        return void 0;\n      }\n\n      if (typeof value === 'string') {\n        return objectPath.set(obj, path, '');\n      } else if (isBoolean(value)) {\n        return objectPath.set(obj, path, false);\n      } else if (typeof value === 'number') {\n        return objectPath.set(obj, path, 0);\n      } else if (isArray(value)) {\n        value.length = 0;\n      } else if (isObject(value)) {\n        for (i in value) {\n          if (hasShallowProperty(value, i)) {\n            delete value[i];\n          }\n        }\n      } else {\n        return objectPath.set(obj, path, null);\n      }\n    };\n\n    objectPath.push = function (obj, path /*, values */){\n      var arr = objectPath.get(obj, path);\n      if (!isArray(arr)) {\n        arr = [];\n        objectPath.set(obj, path, arr);\n      }\n\n      arr.push.apply(arr, Array.prototype.slice.call(arguments, 2));\n    };\n\n    objectPath.coalesce = function (obj, paths, defaultValue) {\n      var value;\n\n      for (var i = 0, len = paths.length; i < len; i++) {\n        if ((value = objectPath.get(obj, paths[i])) !== void 0) {\n          return value;\n        }\n      }\n\n      return defaultValue;\n    };\n\n    objectPath.get = function (obj, path, defaultValue){\n      if (typeof path === 'number') {\n        path = [path];\n      }\n      if (!path || path.length === 0) {\n        return obj;\n      }\n      if (obj == null) {\n        return defaultValue;\n      }\n      if (typeof path === 'string') {\n        return objectPath.get(obj, path.split('.'), defaultValue);\n      }\n\n      var currentPath = getKey(path[0]);\n      var nextObj = getShallowProperty(obj, currentPath)\n      if (nextObj === void 0) {\n        return defaultValue;\n      }\n\n      if (path.length === 1) {\n        return nextObj;\n      }\n\n      return objectPath.get(obj[currentPath], path.slice(1), defaultValue);\n    };\n\n    objectPath.del = function del(obj, path) {\n      if (typeof path === 'number') {\n        path = [path];\n      }\n\n      if (obj == null) {\n        return obj;\n      }\n\n      if (isEmpty(path)) {\n        return obj;\n      }\n      if(typeof path === 'string') {\n        return objectPath.del(obj, path.split('.'));\n      }\n\n      var currentPath = getKey(path[0]);\n      if (!hasShallowProperty(obj, currentPath)) {\n        return obj;\n      }\n\n      if(path.length === 1) {\n        if (isArray(obj)) {\n          obj.splice(currentPath, 1);\n        } else {\n          delete obj[currentPath];\n        }\n      } else {\n        return objectPath.del(obj[currentPath], path.slice(1));\n      }\n\n      return obj;\n    }\n\n    return objectPath;\n  }\n\n  var mod = factory();\n  mod.create = factory;\n  mod.withInheritedProps = factory({includeInheritedProps: true})\n  return mod;\n});\n","import { get, set } from 'object-path';\r\n\r\nclass Settings {\r\n    constructor(){\r\n        this.properties = {\r\n            table: {\r\n                class: 'table table-hover table-striped table-bordered',\r\n                row: {\r\n                    classes: ['']\r\n                },\r\n                sorting: {\r\n                    classes: {\r\n                        canSort: ['sort'],\r\n                        sortNone: [''],\r\n                        sortAsc: ['sort-asc'],\r\n                        sortDesc: ['sort-desc'],\r\n                    }\r\n                }\r\n            },\r\n            pager: {\r\n                classes: {\r\n                    pager: ['pagination', 'mb-0'],\r\n                    li: 'page-item',\r\n                    a: 'page-link',\r\n                    selected: 'active',\r\n                    disabled: 'disabled'\r\n                },\r\n                icons: {\r\n                    previous: '&lt;',\r\n                    next: '&gt;',\r\n                }\r\n            }\r\n        };\r\n    }\r\n\r\n    get(path){\r\n        return get(this.properties, path);\r\n    }\r\n\r\n    set(path, value){\r\n        set(this.properties, path, value);\r\n\r\n        return this;\r\n    }\r\n\r\n    merge(settings){\r\n        this.properties = this._mergeObjects(this.properties, settings);\r\n\r\n        return this;\r\n    }\r\n\r\n    _mergeObjects(obj_1, obj_2){\r\n        for(var key in obj_2){\r\n\r\n            if(obj_2[key] === null){\r\n                obj_1[key] = obj_2[key];\r\n\r\n                continue;\r\n            }else if(typeof obj_2[key] === 'object'){\r\n                obj_1[key] = this._mergeObjects(obj_1[key], obj_2[key]);\r\n\r\n                continue;\r\n            }\r\n\r\n            obj_1[key] = obj_2[key];\r\n        }\r\n\r\n        return obj_1;\r\n    }\r\n}\r\n\r\nexport default Settings;\r\n","<style></style>\r\n\r\n<template>\r\n\t<li :class=\"li_classes\">\r\n\t\t<a href=\"javascript: void(0);\" :class=\"[a_classes, prevNext === true ? 'px-3 px-md-4' : '']\" @click=\"sendClick\">\r\n\t\t\t<slot>{{ value }}</slot>\r\n\t\t</a>\r\n\t</li>\r\n</template>\r\n\r\n<script>\r\nimport Settings from './classes/settings.js';\r\n\r\nexport default {\r\n\tprops: {\r\n\t\tdisabled: {\r\n\t\t\ttype: Boolean,\r\n\t\t\tdefault: false\r\n\t\t},\r\n\t\tselected: {\r\n\t\t\ttype: Boolean,\r\n\t\t\tdefault: false\r\n\t\t},\r\n\t\tvalue: {\r\n\t\t\ttype: Number,\r\n\t\t\tdefault: null\r\n\t\t},\r\n\t\tprevNext : {\r\n\t\t\ttype: Boolean,\r\n\t\t\tdefault: false\r\n\t\t}\r\n\t},\r\n\tcomputed: {\r\n\t\tli_classes(){\r\n\t\t\tvar classes = [];\r\n\r\n\t\t\tif(this.settings.get('pager.classes.li')){\r\n\t\t\t\tclasses.push(this.settings.get('pager.classes.li'));\r\n\t\t\t}\r\n\r\n\t\t\tif(this.disabled){\r\n\t\t\t\tclasses.push(this.settings.get('pager.classes.disabled'));\r\n\t\t\t}\r\n\r\n\t\t\tif(this.selected){\r\n\t\t\t\tclasses.push(this.settings.get('pager.classes.selected'));\r\n\t\t\t}\r\n\r\n\t\t\treturn classes.join(' ');\r\n\t\t},\r\n\t\ta_classes(){\r\n\t\t\tvar classes = [];\r\n\r\n\t\t\tif(this.settings.get('pager.classes.a')){\r\n\t\t\t\tclasses.push(this.settings.get('pager.classes.a'));\r\n\t\t\t}\r\n\r\n\t\t\treturn classes.join(' ');\r\n\t\t},\r\n\t\tsettings(){\r\n\t\t\treturn this.$parent.settings;\r\n\t\t},\r\n\t},\r\n\tmethods: {\r\n\t\tsendClick(){\r\n\t\t\tif(!this.disabled){\r\n\t\t\t\tthis.$emit('click', this.value);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n</script>\r\n","import { get } from 'object-path';\r\n\r\nclass Column {\r\n    constructor(props){\r\n        this.setAlignment(props.align);\r\n        this.label = props.label || '';\r\n        this.field = props.field || null;\r\n        this.representedAs = props.representedAs || null;\r\n        this.component = props.component || null;\r\n        this.interpolate = props.interpolate || false;\r\n        this.headerComponent = props.headerComponent || null;\r\n        this.sortable = this.isSortable(props);\r\n        this.filterable = this.isFilterable(props);\r\n        this.headerClass = props.headerClass || '';\r\n    }\r\n\r\n    setAlignment(value){\r\n        if(!value || typeof value !== 'string'){\r\n            this.align = 'left';\r\n\r\n            return this;\r\n        }\r\n\r\n        if(value.toLowerCase() === 'center'){\r\n            this.align = 'center';\r\n\r\n            return this;\r\n        }\r\n\r\n        if(value.toLowerCase() === 'right'){\r\n            this.align = 'right';\r\n\r\n            return this;\r\n        }\r\n\r\n        this.align = 'left';\r\n\r\n        return this;\r\n    }\r\n\r\n    isFilterable(props){\r\n        if(props.filterable === false){\r\n            return false;\r\n        }\r\n\r\n        if(!props.field && !props.representedAs){\r\n            return false;\r\n        }\r\n\r\n        if(this.component && !(this.representedAs || this.field)){\r\n            return false;\r\n        }\r\n\r\n        return true;\r\n    }\r\n\r\n    isSortable(props){\r\n        if(props.sortable === false){\r\n            return false;\r\n        }\r\n\r\n        if(!props.field && !props.representedAs){\r\n            return false;\r\n        }\r\n\r\n        if(this.component && !(this.representedAs || this.field)){\r\n            return false;\r\n        }\r\n\r\n        return true;\r\n    }\r\n\r\n    getRepresentation(row) {\r\n        if(this.representedAs && typeof this.representedAs === 'function'){\r\n            return this.representedAs(row);\r\n        }\r\n\r\n        if(this.component && this.filterable){\r\n            return this.plain_text_function(row, this);\r\n        }\r\n\r\n        return get(row, this.field);\r\n    }\r\n\r\n    getValue(row){\r\n        return this.getRepresentation(row);\r\n    }\r\n\r\n    matches(row, filter_string) {\r\n        let col_representation = ('' + this.getRepresentation(row) + '').toLowerCase();\r\n\r\n        return col_representation.indexOf(filter_string.toLowerCase()) !== -1;\r\n    }\r\n}\r\n\r\nexport default Column;\r\n","<style></style>\r\n\r\n<template>\r\n\t<table :class=\"table_class\">\r\n\t\t<thead>\r\n\t\t\t<tr>\r\n\t\t\t\t<datatable-header\r\n\t\t\t\t\tv-for=\"(head_column, i) in normalized_columns\"\r\n\t\t\t\t\t:key=\"i\"\r\n\t\t\t\t\t:column=\"head_column\"\r\n\t\t\t\t\t:settings=\"settings\"\r\n\t\t\t\t\t:direction=\"getSortDirectionForColumn(head_column)\"\r\n\t\t\t\t\t@change=\"setSortDirectionForColumn\"\r\n\t\t\t\t></datatable-header>\r\n\t\t\t</tr>\r\n\t\t</thead>\r\n\t\t<tbody>\r\n\t\t\t<slot v-for=\"(row, i) in processed_rows\" :row=\"row\" :columns=\"normalized_columns\">\r\n\t\t\t    <tr :class=\"getRowClasses(row)\" :key=\"i\">\r\n\t\t\t\t\t<datatable-cell\r\n\t\t\t\t\t\tv-for=\"(column, j) in normalized_columns\"\r\n\t\t\t\t\t\t:key=\"j\"\r\n\t\t\t\t\t\t:column=\"column\"\r\n\t\t\t\t\t\t:row=\"row\"\r\n\t\t\t\t\t></datatable-cell>\r\n\t\t\t    </tr>\r\n\t\t\t</slot>\r\n\t\t\t<tr v-if=\"processed_rows.length == 0\">\r\n\t\t\t\t<td :colspan=\"normalized_columns.length\">\r\n\t\t\t\t\t<slot name=\"no-results\"></slot>\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\t\t</tbody>\r\n\t\t<tfoot v-if=\"$slots.footer || $scopedSlots.footer\">\r\n\t\t\t<slot name=\"footer\" :rows=\"processed_rows\"></slot>\r\n\t\t</tfoot>\r\n\t</table>\r\n</template>\r\n\r\n<script>\r\nimport Column from './classes/column.js';\r\n\r\nexport default {\r\n\tprops: {\r\n\t\tname: {\r\n\t\t\ttype: String,\r\n\t\t\tdefault: 'default'\r\n\t\t},\r\n\t\tcolumns: [Object, Array],\r\n\t\tdata: [Object, Array, String, Function],\r\n\t\tfilterBy: {\r\n\t\t\ttype: [String, Array],\r\n\t\t\tdefault: null\r\n\t\t},\r\n\t\trowClasses: {\r\n\t\t\ttype: [String, Array, Object, Function],\r\n\t\t\tdefault: null\r\n\t\t}\r\n\t},\r\n\tdata: () => ({\r\n\t\tsort_by: null,\r\n\t\tsort_dir: null,\r\n\t\ttotal_rows: 0,\r\n\t\tpage: 1,\r\n\t\tper_page: null,\r\n\t\tprocessed_rows: [],\r\n\t\tselected_rows: []\r\n\t}),\r\n\tcomputed: {\r\n\t\trows(){\r\n\t\t\treturn this.data.slice(0);\r\n\t\t},\r\n\t\tsettings(){\r\n\t\t\treturn this.$options.settings;\r\n\t\t},\r\n\t\thandler(){\r\n\t\t\treturn this.$options.handler;\r\n\t\t},\r\n\t\tnormalized_columns(){\r\n\t\t\treturn this.columns.map(function(column){\r\n\t\t\t\treturn new Column(column);\r\n\t\t\t});\r\n\t\t},\r\n\t\ttable_class(){\r\n\t\t\treturn this.settings.get('table.class');\r\n\t\t},\r\n\t},\r\n\tmethods: {\r\n\t\tgetSortDirectionForColumn(column_definition){\r\n\t\t\tif(this.sort_by !== column_definition){\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\r\n\t\t\treturn this.sort_dir;\r\n\t\t},\r\n\t\tsetSortDirectionForColumn(direction, column){\r\n\t\t\tthis.sort_by = column;\r\n\t\t\tthis.sort_dir = direction;\r\n\t\t},\r\n\t\tprocessRows(){\r\n\t\t\tif(typeof this.data === 'function'){\r\n\t\t\t\tlet params = {\r\n\t\t\t\t\tfilter: this.filterBy,\r\n\t\t\t\t\tsort_by: this.sort_by ? this.sort_by.field : null,\r\n\t\t\t\t\tsort_dir: this.sort_dir,\r\n\t\t\t\t\tpage_length: this.per_page,\r\n\t\t\t\t\tpage_number: this.page,\r\n\t\t\t\t};\r\n\r\n\t\t\t\tlet processed_data = this.data(params, function(rows, row_count){\r\n\t\t\t\t\tthis.setRows(rows);\r\n\t\t\t\t\tthis.setTotalRowCount(row_count);\r\n\t\t\t\t}.bind(this));\r\n\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tlet filtered_data = this.handler.filterHandler(\r\n\t\t\t\tthis.rows,\r\n\t\t\t\tthis.filterBy,\r\n\t\t\t\tthis.normalized_columns\r\n\t\t\t);\r\n\r\n\t\t\tlet sorted_data = this.handler.sortHandler(\r\n\t\t\t\tfiltered_data,\r\n\t\t\t\tthis.sort_by,\r\n\t\t\t\tthis.sort_dir\r\n\t\t\t);\r\n\r\n\t\t\tlet paged_data = this.handler.paginateHandler(\r\n\t\t\t\tsorted_data,\r\n\t\t\t\tthis.per_page,\r\n\t\t\t\tthis.page\r\n\t\t\t);\r\n\r\n\t\t\tthis.handler.displayHandler(\r\n\t\t\t\tpaged_data,\r\n\t\t\t\t{\r\n\t\t\t\t\tfiltered_data: filtered_data,\r\n\t\t\t\t\tsorted_data: sorted_data,\r\n\t\t\t\t\tpaged_data: paged_data,\r\n\t\t\t\t},\r\n\t\t\t\tthis.setRows,\r\n\t\t\t\tthis.setTotalRowCount\r\n\t\t\t);\r\n\t\t},\r\n\t\tsetRows(rows){\r\n\t\t\tthis.processed_rows = rows;\r\n\t\t},\r\n\t\tsetTotalRowCount(value){\r\n\t\t\tthis.total_rows = value;\r\n\t\t},\r\n\t\tgetRowClasses(row){\r\n\t\t\tvar row_classes = this.rowClasses;\r\n\r\n\t\t\tif(row_classes === null){\r\n\t\t\t\trow_classes = this.settings.get('table.row.classes');\r\n\t\t\t}\r\n\r\n\t\t\tif(typeof row_classes === 'function'){\r\n\t\t\t\treturn row_classes(row);\r\n\t\t\t}\r\n\r\n\t\t\treturn row_classes;\r\n\t\t}\r\n\t},\r\n\tcreated(){\r\n\t\tthis.$datatables[this.name] = this;\r\n\t\tthis.$root.$emit('table.ready', this.name);\r\n\r\n\t\tthis.$watch(function(){\r\n\t\t\treturn this.data;\r\n\t\t}.bind(this), this.processRows, {deep: true});\r\n\r\n\t\tthis.$watch('columns', this.processRows);\r\n\r\n\t\tthis.$watch(function(){\r\n\t\t\treturn this.filterBy + this.per_page + this.page + this.sort_by + this.sort_dir;\r\n\t\t}.bind(this), this.processRows);\r\n\r\n\t\tthis.processRows();\r\n\t},\r\n\thandler: null,\r\n\tsettings: null\r\n}\r\n</script>\r\n","<style></style>\r\n\r\n<template>\r\n\t<nav v-if=\"show\" class=\"d-flex align-items-center mb-2\">\r\n\t\t<ul v-if=\"type === 'abbreviated'\" :class=\"pagination_class\">\r\n\t\t\t<datatable-button :disabled=\"page - 1 < 1\" :value=\"page - 1\" @click=\"setPageNum\" :prevNext=\"true\"></datatable-button>\r\n\t\t\t<datatable-button v-if=\"page - 3 >= 1\" :value=\"1\" @click=\"setPageNum\"></datatable-button>\r\n\t\t\t<datatable-button v-if=\"page - 4 >= 1\" disabled>...</datatable-button>\r\n\r\n\t\t\t<datatable-button v-if=\"page - 2 >= 1\" :value=\"page - 2\" @click=\"setPageNum\"></datatable-button>\r\n\t\t\t<datatable-button v-if=\"page - 1 >= 1\" :value=\"page - 1\" @click=\"setPageNum\"></datatable-button>\r\n\r\n\t\t\t<datatable-button :value=\"page\" selected></datatable-button>\r\n\r\n\t\t\t<datatable-button v-if=\"page + 1 <= total_pages\" :value=\"page + 1\" @click=\"setPageNum\"></datatable-button>\r\n\t\t\t<datatable-button v-if=\"page + 2 <= total_pages\" :value=\"page + 2\" @click=\"setPageNum\"></datatable-button>\r\n\r\n\t\t\t<datatable-button v-if=\"page + 4 <= total_pages\" disabled>...</datatable-button>\r\n\t\t\t<datatable-button v-if=\"page + 3 <= total_pages\" :value=\"total_pages\" @click=\"setPageNum\"></datatable-button>\r\n\t\t\t<datatable-button :disabled=\"page + 1 > total_pages\" :value=\"page + 1\" @click=\"setPageNum\" :prevNext=\"true\"></datatable-button>\r\n\t\t</ul>\r\n\t\t<ul v-else-if=\"type === 'long'\" :class=\"pagination_class\">\r\n\t\t\t<datatable-button v-for=\"i in total_pages\" :key=\"i\" :value=\"i\" @click=\"setPageNum\" :selected=\"i === page\"></datatable-button>\r\n\t\t</ul>\r\n\t\t<ul v-else-if=\"type === 'short'\" :class=\"pagination_class\">\r\n\t\t\t<datatable-button :value=\"page\" selected></datatable-button>\r\n\t\t</ul>\r\n\t</nav>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n\tmodel: {\r\n\t\tprop: 'page',\r\n\t\tevent: 'change'\r\n\t},\r\n\tprops: {\r\n\t\ttable: {\r\n\t\t\ttype: String,\r\n\t\t\tdefault: 'default'\r\n\t\t},\r\n\t\ttype: {\r\n\t\t\ttype: String,\r\n\t\t\tdefault: 'long'\r\n\t\t},\r\n\t\tperPage: {\r\n\t\t\ttype: Number,\r\n\t\t\tdefault: 10\r\n\t\t},\r\n\t\tpage: {\r\n\t\t\ttype: Number,\r\n\t\t\tdefault: 1\r\n\t\t}\r\n\t},\r\n\tdata: () => ({\r\n\t\ttable_instance: null,\r\n\t}),\r\n\tcomputed: {\r\n\t\tshow(){\r\n\t\t\treturn this.table_instance && this.total_rows > 0;\r\n\t\t},\r\n\t\ttotal_rows(){\r\n\t\t\tif(this.table_instance){\r\n\t\t\t\treturn this.table_instance.total_rows;\r\n\t\t\t}\r\n\r\n\t\t\treturn 0;\r\n\t\t},\r\n\t\tpagination_class(){\r\n\t\t\treturn this.settings.get('pager.classes.pager');\r\n\t\t},\r\n\t\tdisabled_class(){\r\n\t\t\treturn this.settings.get('pager.classes.disabled');\r\n\t\t},\r\n\t\tprevious_link_classes(){\r\n\t\t\tif(this.page - 1 < 1){\r\n\t\t\t\treturn this.settings.get('pager.classes.disabled');\r\n\t\t\t}\r\n\r\n\t\t\treturn '';\r\n\t\t},\r\n\t\tnext_link_classes(){\r\n\t\t\tif(this.page + 1 > this.total_pages){\r\n\t\t\t\treturn this.settings.get('pager.classes.disabled');\r\n\t\t\t}\r\n\r\n\t\t\treturn '';\r\n\t\t},\r\n\t\ttotal_pages(){\r\n\t\t\tif(!(this.total_rows > 0)){\r\n\t\t\t\treturn 0;\r\n\t\t\t}\r\n\r\n\t\t\treturn Math.ceil(this.total_rows / this.perPage);\r\n\t\t},\r\n\t\tprevious_icon(){\r\n\t\t\treturn this.settings.get('pager.icons.previous');\r\n\t\t},\r\n\t\tnext_icon(){\r\n\t\t\treturn this.settings.get('pager.icons.next');\r\n\t\t},\r\n\t\tsettings(){\r\n\t\t\treturn this.$options.settings;\r\n\t\t},\r\n\t},\r\n\tmethods: {\r\n\t\tsetPageNum(number){\r\n\t\t\tthis.table_instance.page = number;\r\n\t\t\tthis.table_instance.per_page = this.perPage;\r\n\r\n\t\t\tthis.$emit('change', number);\r\n\t\t},\r\n\t\tgetClassForPage(number){\r\n\t\t\tif(this.page == number){\r\n\t\t\t\treturn this.settings.get('pager.classes.selected');\r\n\t\t\t}\r\n\r\n\t\t\treturn '';\r\n\t\t}\r\n\t},\r\n\twatch: {\r\n\t\ttotal_rows(){\r\n\t\t\tif(this.page > this.total_pages){\r\n\t\t\t\tthis.setPageNum(this.total_pages);\r\n\t\t\t}\r\n\t\t},\r\n\t\tperPage(){\r\n\t\t\tvar page = this.page;\r\n\r\n\t\t\tif(page > this.total_pages){\r\n\t\t\t\tpage = this.total_pages\r\n\t\t\t}\r\n\r\n\t\t\tthis.setPageNum(page);\r\n\t\t}\r\n\t},\r\n\tcreated(){\r\n\t\tif(this.$datatables[this.table]){\r\n\t\t\tthis.table_instance = this.$datatables[this.table];\r\n\t\t\tthis.table_instance.per_page = this.perPage;\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tthis.$root.$on('table.ready', function(table_name){\r\n\t\t\tif(table_name === this.table){\r\n\t\t\t\tthis.table_instance = this.$datatables[this.table];\r\n\t\t\t\tthis.table_instance.per_page = this.perPage;\r\n\t\t\t}\r\n\t\t}.bind(this));\r\n\t},\r\n\tsettings: null\r\n}\r\n</script>\r\n","class Handler {\r\n    constructor(){\r\n        this.filterHandler = this.handleFilter;\r\n        this.sortHandler = this.handleSort;\r\n        this.paginateHandler = this.handlePaginate;\r\n        this.displayHandler = this.handleDisplay;\r\n    }\r\n    handleFilter(data, filter, columns){\r\n        if(!filter){\r\n            return data;\r\n        }\r\n\r\n        if(!Array.isArray(filter)) {\r\n            filter = [filter];\r\n        }\r\n\r\n        return data.filter(function(row){\r\n            for(var j in filter) {\r\n                let filter_strings = filter[j].split(/\\s/);\r\n                let matched = true;\r\n                for(var i in filter_strings){\r\n                    if(!this.rowMatches(row, filter_strings[i], columns)){\r\n                        matched = false;\r\n                    }\r\n                }\r\n                if(matched) {\r\n                    return true;\r\n                }\r\n            }\r\n            return false;\r\n        }.bind(this));\r\n    }\r\n    rowMatches(row, filter_string, columns){\r\n        for(var i in columns){\r\n            if(columns[i].matches(row, filter_string)){\r\n                return true;\r\n            }\r\n        }\r\n\r\n        return false;\r\n    }\r\n    handleSort(filtered_data, sort_column, sort_dir){\r\n\t\tif(!sort_column || sort_dir === null){\r\n\t\t\treturn filtered_data;\r\n\t\t}\r\n\r\n\t\treturn filtered_data.sort(function(a, b){\r\n\t\t\tvar value_a = sort_column.getRepresentation(a);\r\n\t\t\tvar value_b = sort_column.getRepresentation(b);\r\n\r\n\t\t\tif(value_a == value_b){\r\n\t\t\t\treturn 0;\r\n\t\t\t}\r\n\r\n\t\t\tvar sort_val = value_a > value_b ? 1 : -1;\r\n\r\n\t\t\tif(sort_dir === 'desc'){\r\n\t\t\t\tsort_val *= -1;\r\n\t\t\t}\r\n\r\n\t\t\treturn sort_val;\r\n\t\t});\r\n    }\r\n    handlePaginate(sorted_data, page_count, page_number){\r\n\t\tif(!page_count){\r\n\t\t\treturn sorted_data;\r\n\t\t}\r\n\r\n\t\tif(page_number < 1){\r\n\t\t\tpage_number = 1;\r\n\t\t}\r\n\r\n        let start_index = (page_number - 1) * page_count;\r\n        let end_index = (page_number * page_count);\r\n\r\n        return sorted_data.slice(start_index, end_index);\r\n    }\r\n    handleDisplay(processed_data, process_steps, setRows, setTotalRowCount){\r\n        setRows(processed_data);\r\n        setTotalRowCount(process_steps.filtered_data.length);\r\n    }\r\n}\r\n\r\nexport default Handler;\r\n","import VueDatatable from '../vue-datatable.vue';\r\nimport VueDatatablePager from '../vue-datatable-pager.vue';\r\nimport Handler from './handler.js';\r\nimport Settings from './settings.js';\r\n\r\nclass TableType {\r\n    constructor(id){\r\n        this.id = id;\r\n\r\n        this.handler = new Handler();\r\n        this.settings = new Settings();\r\n    }\r\n\r\n    getId(){\r\n        return this.id;\r\n    }\r\n\r\n    setFilterHandler(closure){\r\n        this.handler.filterHandler = closure;\r\n\r\n        return this;\r\n    }\r\n\r\n    setSortHandler(closure){\r\n        this.handler.sortHandler = closure;\r\n\r\n        return this;\r\n    }\r\n\r\n    setPaginateHandler(closure){\r\n        this.handler.paginateHandler = closure;\r\n\r\n        return this;\r\n    }\r\n\r\n    setDisplayHandler(closure){\r\n        this.handler.displayHandler = closure;\r\n\r\n        return this;\r\n    }\r\n\r\n    setting(path, value){\r\n        if(value === undefined){\r\n            return this.settings.get(path);\r\n        }\r\n\r\n        this.settings.set(path, value);\r\n\r\n        return this;\r\n    }\r\n\r\n    mergeSettings(settings){\r\n        this.settings.merge(settings);\r\n\r\n        return this;\r\n    }\r\n\r\n    getTableDefinition(){\r\n        let definition = this.clone(VueDatatable);\r\n        definition.handler = this.handler;\r\n        definition.settings = this.settings;\r\n        definition.name = this.id;\r\n\r\n        return definition;\r\n    }\r\n\r\n    getPagerDefinition(){\r\n        let definition = this.clone(VueDatatablePager);\r\n        definition.settings = this.settings;\r\n        definition.name = this.id;\r\n\r\n        return definition;\r\n    }\r\n\r\n    clone(obj) {\r\n        var copy;\r\n\r\n        if (obj === null || typeof obj !== \"object\") {\r\n            return obj;\r\n        }\r\n\r\n        // Handle Array\r\n        if (obj instanceof Array) {\r\n            copy = [];\r\n\r\n            for (var i = 0; i < obj.length; i++) {\r\n                copy[i] = this.clone(obj[i]);\r\n            }\r\n\r\n            return copy;\r\n        }\r\n\r\n        // Handle Object\r\n        if (obj instanceof Object) {\r\n            copy = {};\r\n\r\n            for (var attr in obj) {\r\n                if (obj.hasOwnProperty(attr)) {\r\n                    copy[attr] = this.clone(obj[attr]);\r\n                }\r\n            }\r\n\r\n            return copy;\r\n        }\r\n\r\n        throw new Error(\"Unable to copy obj! Its type isn't supported.\");\r\n    }\r\n}\r\n\r\nexport default TableType;\r\n","import DatatableFactory from './src/classes/factory.js';\r\n\r\nexport default (new DatatableFactory());\r\n","import VueDatatableCell from '../vue-datatable-cell.vue';\r\nimport VueDatatableHeader from '../vue-datatable-header.vue';\r\nimport VueDatatablePagerButton from '../vue-datatable-pager-button.vue';\r\nimport TableType from './table-type.js';\r\nimport Settings from './settings.js';\r\n\r\nclass DatatableFactory {\r\n    constructor(){\r\n        this.table_types = [];\r\n        this.use_default_type = true;\r\n        this.default_table_settings = new Settings();\r\n    }\r\n\r\n    useDefaultType(value){\r\n        this.use_default_type = !!value;\r\n\r\n        return this;\r\n    }\r\n\r\n    registerTableType(component_name, callback){\r\n        let table_type = new TableType(component_name);\r\n\r\n        this.table_types.push(table_type);\r\n\r\n        if(callback && typeof callback === 'function'){\r\n            callback(table_type);\r\n        }\r\n\r\n        return this;\r\n    }\r\n\r\n    install(Vue){\r\n        Vue.prototype.$datatables = {};\r\n\r\n        Vue.component('datatable-cell', VueDatatableCell);\r\n        Vue.component('datatable-header', VueDatatableHeader);\r\n        Vue.component('datatable-button', VueDatatablePagerButton);\r\n\r\n        if(this.use_default_type){\r\n            this.registerTableType('datatable', function(table_type){\r\n                table_type.mergeSettings(this.default_table_settings.properties);\r\n            }.bind(this));\r\n        }\r\n\r\n        for(var i in this.table_types){\r\n            this.installTableType(this.table_types[i].getId(), this.table_types[i], Vue);\r\n        }\r\n    }\r\n\r\n    installTableType(id, table_type, Vue){\r\n        Vue.component(id, table_type.getTableDefinition());\r\n        Vue.component(id + '-pager', table_type.getPagerDefinition());\r\n    }\r\n}\r\n\r\nexport default DatatableFactory;\r\n","import DatatableFactory from '../index';\r\n\r\nwindow.Vue.use(DatatableFactory)\r\n"],"names":["template","style","script","scopeId","isFunctionalTemplate","moduleIdentifier","shadowMode","createInjector","createInjectorSSR","createInjectorShadow","hook","options","render","staticRenderFns","_compiled","functional","_scopeId","context","this","$vnode","ssrContext","parent","__VUE_SSR_CONTEXT__","call","_registeredComponents","add","_ssrRegister","$root","$options","shadowRoot","originalRender","h","existing","beforeCreate","concat","module","toStr","Object","prototype","toString","hasOwnProperty","obj","prop","isEmpty","value","isArray","length","i","type","Array","getKey","key","intKey","parseInt","factory","objectPath","keys","reduce","proxy","bind","hasShallowProperty","includeInheritedProps","getShallowProperty","set","path","doNotReplace","split","map","currentPath","currentValue","slice","has","j","ensureExists","insert","at","arr","get","splice","empty","isBoolean","isObject","push","apply","arguments","coalesce","paths","defaultValue","len","nextObj","del","mod","create","withInheritedProps","Settings","properties","table","class","row","classes","sorting","canSort","sortNone","sortAsc","sortDesc","pager","li","a","selected","disabled","icons","previous","next","settings","_mergeObjects","obj_1","obj_2","_typeof","Column","props","setAlignment","align","label","field","representedAs","component","interpolate","headerComponent","sortable","isSortable","filterable","isFilterable","headerClass","toLowerCase","plain_text_function","getRepresentation","filter_string","indexOf","Handler","filterHandler","handleFilter","sortHandler","handleSort","paginateHandler","handlePaginate","displayHandler","handleDisplay","data","filter","columns","filter_strings","matched","rowMatches","matches","filtered_data","sort_column","sort_dir","sort","b","value_a","value_b","sort_val","sorted_data","page_count","page_number","start_index","end_index","processed_data","process_steps","setRows","setTotalRowCount","TableType","id","handler","closure","undefined","merge","definition","clone","VueDatatable","name","VueDatatablePager","copy","attr","Error","table_types","use_default_type","default_table_settings","component_name","callback","table_type","Vue","$datatables","VueDatatableCell","VueDatatableHeader","VueDatatablePagerButton","registerTableType","mergeSettings","installTableType","getId","getTableDefinition","getPagerDefinition","window","use","DatatableFactory"],"mappings":"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"}