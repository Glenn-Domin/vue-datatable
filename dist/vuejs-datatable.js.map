{"version":3,"file":"vuejs-datatable.js","sources":["../node_modules/object-path/index.js","../src/classes/settings.js","../src/classes/column.js","../src/classes/handler.js","../src/classes/table-type.js","../index.js","../src/classes/factory.js","../src/es5.js"],"sourcesContent":["(function (root, factory){\n  'use strict';\n\n  /*istanbul ignore next:cant test*/\n  if (typeof module === 'object' && typeof module.exports === 'object') {\n    module.exports = factory();\n  } else if (typeof define === 'function' && define.amd) {\n    // AMD. Register as an anonymous module.\n    define([], factory);\n  } else {\n    // Browser globals\n    root.objectPath = factory();\n  }\n})(this, function(){\n  'use strict';\n\n  var toStr = Object.prototype.toString;\n  function hasOwnProperty(obj, prop) {\n    if(obj == null) {\n      return false\n    }\n    //to handle objects with null prototypes (too edge case?)\n    return Object.prototype.hasOwnProperty.call(obj, prop)\n  }\n\n  function isEmpty(value){\n    if (!value) {\n      return true;\n    }\n    if (isArray(value) && value.length === 0) {\n        return true;\n    } else if (typeof value !== 'string') {\n        for (var i in value) {\n            if (hasOwnProperty(value, i)) {\n                return false;\n            }\n        }\n        return true;\n    }\n    return false;\n  }\n\n  function toString(type){\n    return toStr.call(type);\n  }\n\n  function isObject(obj){\n    return typeof obj === 'object' && toString(obj) === \"[object Object]\";\n  }\n\n  var isArray = Array.isArray || function(obj){\n    /*istanbul ignore next:cant test*/\n    return toStr.call(obj) === '[object Array]';\n  }\n\n  function isBoolean(obj){\n    return typeof obj === 'boolean' || toString(obj) === '[object Boolean]';\n  }\n\n  function getKey(key){\n    var intKey = parseInt(key);\n    if (intKey.toString() === key) {\n      return intKey;\n    }\n    return key;\n  }\n\n  function factory(options) {\n    options = options || {}\n\n    var objectPath = function(obj) {\n      return Object.keys(objectPath).reduce(function(proxy, prop) {\n        if(prop === 'create') {\n          return proxy;\n        }\n\n        /*istanbul ignore else*/\n        if (typeof objectPath[prop] === 'function') {\n          proxy[prop] = objectPath[prop].bind(objectPath, obj);\n        }\n\n        return proxy;\n      }, {});\n    };\n\n    function hasShallowProperty(obj, prop) {\n      return (options.includeInheritedProps || (typeof prop === 'number' && Array.isArray(obj)) || hasOwnProperty(obj, prop))\n    }\n\n    function getShallowProperty(obj, prop) {\n      if (hasShallowProperty(obj, prop)) {\n        return obj[prop];\n      }\n    }\n\n    function set(obj, path, value, doNotReplace){\n      if (typeof path === 'number') {\n        path = [path];\n      }\n      if (!path || path.length === 0) {\n        return obj;\n      }\n      if (typeof path === 'string') {\n        return set(obj, path.split('.').map(getKey), value, doNotReplace);\n      }\n      var currentPath = path[0];\n      var currentValue = getShallowProperty(obj, currentPath);\n      if (path.length === 1) {\n        if (currentValue === void 0 || !doNotReplace) {\n          obj[currentPath] = value;\n        }\n        return currentValue;\n      }\n\n      if (currentValue === void 0) {\n        //check if we assume an array\n        if(typeof path[1] === 'number') {\n          obj[currentPath] = [];\n        } else {\n          obj[currentPath] = {};\n        }\n      }\n\n      return set(obj[currentPath], path.slice(1), value, doNotReplace);\n    }\n\n    objectPath.has = function (obj, path) {\n      if (typeof path === 'number') {\n        path = [path];\n      } else if (typeof path === 'string') {\n        path = path.split('.');\n      }\n\n      if (!path || path.length === 0) {\n        return !!obj;\n      }\n\n      for (var i = 0; i < path.length; i++) {\n        var j = getKey(path[i]);\n\n        if((typeof j === 'number' && isArray(obj) && j < obj.length) ||\n          (options.includeInheritedProps ? (j in Object(obj)) : hasOwnProperty(obj, j))) {\n          obj = obj[j];\n        } else {\n          return false;\n        }\n      }\n\n      return true;\n    };\n\n    objectPath.ensureExists = function (obj, path, value){\n      return set(obj, path, value, true);\n    };\n\n    objectPath.set = function (obj, path, value, doNotReplace){\n      return set(obj, path, value, doNotReplace);\n    };\n\n    objectPath.insert = function (obj, path, value, at){\n      var arr = objectPath.get(obj, path);\n      at = ~~at;\n      if (!isArray(arr)) {\n        arr = [];\n        objectPath.set(obj, path, arr);\n      }\n      arr.splice(at, 0, value);\n    };\n\n    objectPath.empty = function(obj, path) {\n      if (isEmpty(path)) {\n        return void 0;\n      }\n      if (obj == null) {\n        return void 0;\n      }\n\n      var value, i;\n      if (!(value = objectPath.get(obj, path))) {\n        return void 0;\n      }\n\n      if (typeof value === 'string') {\n        return objectPath.set(obj, path, '');\n      } else if (isBoolean(value)) {\n        return objectPath.set(obj, path, false);\n      } else if (typeof value === 'number') {\n        return objectPath.set(obj, path, 0);\n      } else if (isArray(value)) {\n        value.length = 0;\n      } else if (isObject(value)) {\n        for (i in value) {\n          if (hasShallowProperty(value, i)) {\n            delete value[i];\n          }\n        }\n      } else {\n        return objectPath.set(obj, path, null);\n      }\n    };\n\n    objectPath.push = function (obj, path /*, values */){\n      var arr = objectPath.get(obj, path);\n      if (!isArray(arr)) {\n        arr = [];\n        objectPath.set(obj, path, arr);\n      }\n\n      arr.push.apply(arr, Array.prototype.slice.call(arguments, 2));\n    };\n\n    objectPath.coalesce = function (obj, paths, defaultValue) {\n      var value;\n\n      for (var i = 0, len = paths.length; i < len; i++) {\n        if ((value = objectPath.get(obj, paths[i])) !== void 0) {\n          return value;\n        }\n      }\n\n      return defaultValue;\n    };\n\n    objectPath.get = function (obj, path, defaultValue){\n      if (typeof path === 'number') {\n        path = [path];\n      }\n      if (!path || path.length === 0) {\n        return obj;\n      }\n      if (obj == null) {\n        return defaultValue;\n      }\n      if (typeof path === 'string') {\n        return objectPath.get(obj, path.split('.'), defaultValue);\n      }\n\n      var currentPath = getKey(path[0]);\n      var nextObj = getShallowProperty(obj, currentPath)\n      if (nextObj === void 0) {\n        return defaultValue;\n      }\n\n      if (path.length === 1) {\n        return nextObj;\n      }\n\n      return objectPath.get(obj[currentPath], path.slice(1), defaultValue);\n    };\n\n    objectPath.del = function del(obj, path) {\n      if (typeof path === 'number') {\n        path = [path];\n      }\n\n      if (obj == null) {\n        return obj;\n      }\n\n      if (isEmpty(path)) {\n        return obj;\n      }\n      if(typeof path === 'string') {\n        return objectPath.del(obj, path.split('.'));\n      }\n\n      var currentPath = getKey(path[0]);\n      if (!hasShallowProperty(obj, currentPath)) {\n        return obj;\n      }\n\n      if(path.length === 1) {\n        if (isArray(obj)) {\n          obj.splice(currentPath, 1);\n        } else {\n          delete obj[currentPath];\n        }\n      } else {\n        return objectPath.del(obj[currentPath], path.slice(1));\n      }\n\n      return obj;\n    }\n\n    return objectPath;\n  }\n\n  var mod = factory();\n  mod.create = factory;\n  mod.withInheritedProps = factory({includeInheritedProps: true})\n  return mod;\n});\n","import { get, set } from 'object-path';\r\n\r\nclass Settings {\r\n    constructor(){\r\n        this.properties = {\r\n            table: {\r\n                class: 'table table-hover table-striped table-bordered',\r\n                row: {\r\n                    classes: ['']\r\n                },\r\n                sorting: {\r\n                    classes: {\r\n                        canSort: ['sort'],\r\n                        sortNone: ['glyphicon', 'glyphicon-sort'],\r\n                        sortAsc: ['glyphicon', 'glyphicon-sort-by-alphabet'],\r\n                        sortDesc: ['glyphicon', 'glyphicon-sort-by-alphabet-alt'],\r\n                    }\r\n                }\r\n            },\r\n            pager: {\r\n                classes: {\r\n                    pager: ['pagination', 'mb-0'],\r\n                    li: 'page-item',\r\n                    a: 'page-link',\r\n                    selected: 'active',\r\n                    disabled: 'disabled'\r\n                },\r\n                icons: {\r\n                    previous: '&lt;',\r\n                    next: '&gt;',\r\n                }\r\n            }\r\n        };\r\n    }\r\n\r\n    get(path){\r\n        return get(this.properties, path);\r\n    }\r\n\r\n    set(path, value){\r\n        set(this.properties, path, value);\r\n\r\n        return this;\r\n    }\r\n\r\n    merge(settings){\r\n        this.properties = this._mergeObjects(this.properties, settings);\r\n\r\n        return this;\r\n    }\r\n\r\n    _mergeObjects(obj_1, obj_2){\r\n        for(var key in obj_2){\r\n\r\n            if(obj_2[key] === null){\r\n                obj_1[key] = obj_2[key];\r\n\r\n                continue;\r\n            }else if(typeof obj_2[key] === 'object'){\r\n                obj_1[key] = this._mergeObjects(obj_1[key], obj_2[key]);\r\n\r\n                continue;\r\n            }\r\n\r\n            obj_1[key] = obj_2[key];\r\n        }\r\n\r\n        return obj_1;\r\n    }\r\n}\r\n\r\nexport default Settings;\r\n","import { get } from 'object-path';\r\n\r\nclass Column {\r\n    constructor(props){\r\n        this.setAlignment(props.align);\r\n        this.label = props.label || '';\r\n        this.field = props.field || null;\r\n        this.representedAs = props.representedAs || null;\r\n        this.component = props.component || null;\r\n        this.interpolate = props.interpolate || false;\r\n        this.headerComponent = props.headerComponent || null;\r\n        this.sortable = this.isSortable(props);\r\n        this.filterable = this.isFilterable(props);\r\n        this.headerClass = props.headerClass || '';\r\n    }\r\n\r\n    setAlignment(value){\r\n        if(!value || typeof value !== 'string'){\r\n            this.align = 'left';\r\n\r\n            return this;\r\n        }\r\n\r\n        if(value.toLowerCase() === 'center'){\r\n            this.align = 'center';\r\n\r\n            return this;\r\n        }\r\n\r\n        if(value.toLowerCase() === 'right'){\r\n            this.align = 'right';\r\n\r\n            return this;\r\n        }\r\n\r\n        this.align = 'left';\r\n\r\n        return this;\r\n    }\r\n\r\n    isFilterable(props){\r\n        if(props.filterable === false){\r\n            return false;\r\n        }\r\n\r\n        if(!props.field && !props.representedAs){\r\n            return false;\r\n        }\r\n\r\n        if(this.component && !(this.representedAs || this.field)){\r\n            return false;\r\n        }\r\n\r\n        return true;\r\n    }\r\n\r\n    isSortable(props){\r\n        if(props.sortable === false){\r\n            return false;\r\n        }\r\n\r\n        if(!props.field && !props.representedAs){\r\n            return false;\r\n        }\r\n\r\n        if(this.component && !(this.representedAs || this.field)){\r\n            return false;\r\n        }\r\n\r\n        return true;\r\n    }\r\n\r\n    getRepresentation(row) {\r\n        if(this.representedAs && typeof this.representedAs === 'function'){\r\n            return this.representedAs(row);\r\n        }\r\n\r\n        if(this.component && this.filterable){\r\n            return this.plain_text_function(row, this);\r\n        }\r\n\r\n        return get(row, this.field);\r\n    }\r\n\r\n    getValue(row){\r\n        return this.getRepresentation(row);\r\n    }\r\n\r\n    matches(row, filter_string) {\r\n        let col_representation = ('' + this.getRepresentation(row) + '').toLowerCase();\r\n\r\n        return col_representation.indexOf(filter_string.toLowerCase()) !== -1;\r\n    }\r\n}\r\n\r\nexport default Column;\r\n","class Handler {\r\n    constructor(){\r\n        this.filterHandler = this.handleFilter;\r\n        this.sortHandler = this.handleSort;\r\n        this.paginateHandler = this.handlePaginate;\r\n        this.displayHandler = this.handleDisplay;\r\n    }\r\n    handleFilter(data, filter, columns){\r\n        if(!filter){\r\n            return data;\r\n        }\r\n\r\n        if(!Array.isArray(filter)) {\r\n            filter = [filter];\r\n        }\r\n\r\n        return data.filter(function(row){\r\n            for(var j in filter) {\r\n                let filter_strings = filter[j].split(/\\s/);\r\n                let matched = true;\r\n                for(var i in filter_strings){\r\n                    if(!this.rowMatches(row, filter_strings[i], columns)){\r\n                        matched = false;\r\n                    }\r\n                }\r\n                if(matched) {\r\n                    return true;\r\n                }\r\n            }\r\n            return false;\r\n        }.bind(this));\r\n    }\r\n    rowMatches(row, filter_string, columns){\r\n        for(var i in columns){\r\n            if(columns[i].matches(row, filter_string)){\r\n                return true;\r\n            }\r\n        }\r\n\r\n        return false;\r\n    }\r\n    handleSort(filtered_data, sort_column, sort_dir){\r\n\t\tif(!sort_column || sort_dir === null){\r\n\t\t\treturn filtered_data;\r\n\t\t}\r\n\r\n\t\treturn filtered_data.sort(function(a, b){\r\n\t\t\tvar value_a = sort_column.getRepresentation(a);\r\n\t\t\tvar value_b = sort_column.getRepresentation(b);\r\n\r\n\t\t\tif(value_a == value_b){\r\n\t\t\t\treturn 0;\r\n\t\t\t}\r\n\r\n\t\t\tvar sort_val = value_a > value_b ? 1 : -1;\r\n\r\n\t\t\tif(sort_dir === 'desc'){\r\n\t\t\t\tsort_val *= -1;\r\n\t\t\t}\r\n\r\n\t\t\treturn sort_val;\r\n\t\t});\r\n    }\r\n    handlePaginate(sorted_data, page_count, page_number){\r\n\t\tif(!page_count){\r\n\t\t\treturn sorted_data;\r\n\t\t}\r\n\r\n\t\tif(page_number < 1){\r\n\t\t\tpage_number = 1;\r\n\t\t}\r\n\r\n        let start_index = (page_number - 1) * page_count;\r\n        let end_index = (page_number * page_count);\r\n\r\n        return sorted_data.slice(start_index, end_index);\r\n    }\r\n    handleDisplay(processed_data, process_steps, setRows, setTotalRowCount){\r\n        setRows(processed_data);\r\n        setTotalRowCount(process_steps.filtered_data.length);\r\n    }\r\n}\r\n\r\nexport default Handler;\r\n","import VueDatatable from '../vue-datatable.vue';\r\nimport VueDatatablePager from '../vue-datatable-pager.vue';\r\nimport Handler from './handler.js';\r\nimport Settings from './settings.js';\r\n\r\nclass TableType {\r\n    constructor(id){\r\n        this.id = id;\r\n\r\n        this.handler = new Handler();\r\n        this.settings = new Settings();\r\n    }\r\n\r\n    getId(){\r\n        return this.id;\r\n    }\r\n\r\n    setFilterHandler(closure){\r\n        this.handler.filterHandler = closure;\r\n\r\n        return this;\r\n    }\r\n\r\n    setSortHandler(closure){\r\n        this.handler.sortHandler = closure;\r\n\r\n        return this;\r\n    }\r\n\r\n    setPaginateHandler(closure){\r\n        this.handler.paginateHandler = closure;\r\n\r\n        return this;\r\n    }\r\n\r\n    setDisplayHandler(closure){\r\n        this.handler.displayHandler = closure;\r\n\r\n        return this;\r\n    }\r\n\r\n    setting(path, value){\r\n        if(value === undefined){\r\n            return this.settings.get(path);\r\n        }\r\n\r\n        this.settings.set(path, value);\r\n\r\n        return this;\r\n    }\r\n\r\n    mergeSettings(settings){\r\n        this.settings.merge(settings);\r\n\r\n        return this;\r\n    }\r\n\r\n    getTableDefinition(){\r\n        let definition = this.clone(VueDatatable);\r\n        definition.handler = this.handler;\r\n        definition.settings = this.settings;\r\n        definition.name = this.id;\r\n\r\n        return definition;\r\n    }\r\n\r\n    getPagerDefinition(){\r\n        let definition = this.clone(VueDatatablePager);\r\n        definition.settings = this.settings;\r\n        definition.name = this.id;\r\n\r\n        return definition;\r\n    }\r\n\r\n    clone(obj) {\r\n        var copy;\r\n\r\n        if (obj === null || typeof obj !== \"object\") {\r\n            return obj;\r\n        }\r\n\r\n        // Handle Array\r\n        if (obj instanceof Array) {\r\n            copy = [];\r\n\r\n            for (var i = 0; i < obj.length; i++) {\r\n                copy[i] = this.clone(obj[i]);\r\n            }\r\n\r\n            return copy;\r\n        }\r\n\r\n        // Handle Object\r\n        if (obj instanceof Object) {\r\n            copy = {};\r\n\r\n            for (var attr in obj) {\r\n                if (obj.hasOwnProperty(attr)) {\r\n                    copy[attr] = this.clone(obj[attr]);\r\n                }\r\n            }\r\n\r\n            return copy;\r\n        }\r\n\r\n        throw new Error(\"Unable to copy obj! Its type isn't supported.\");\r\n    }\r\n}\r\n\r\nexport default TableType;\r\n","import DatatableFactory from './src/classes/factory.js';\r\n\r\nexport default (new DatatableFactory());\r\n","import VueDatatableCell from '../vue-datatable-cell.vue';\r\nimport VueDatatableHeader from '../vue-datatable-header.vue';\r\nimport VueDatatablePagerButton from '../vue-datatable-pager-button.vue';\r\nimport TableType from './table-type.js';\r\nimport Settings from './settings.js';\r\n\r\nclass DatatableFactory {\r\n    constructor(){\r\n        this.table_types = [];\r\n        this.use_default_type = true;\r\n        this.default_table_settings = new Settings();\r\n    }\r\n\r\n    useDefaultType(value){\r\n        this.use_default_type = !!value;\r\n\r\n        return this;\r\n    }\r\n\r\n    registerTableType(component_name, callback){\r\n        let table_type = new TableType(component_name);\r\n\r\n        this.table_types.push(table_type);\r\n\r\n        if(callback && typeof callback === 'function'){\r\n            callback(table_type);\r\n        }\r\n\r\n        return this;\r\n    }\r\n\r\n    install(Vue){\r\n        Vue.prototype.$datatables = {};\r\n\r\n        Vue.component('datatable-cell', VueDatatableCell);\r\n        Vue.component('datatable-header', VueDatatableHeader);\r\n        Vue.component('datatable-button', VueDatatablePagerButton);\r\n\r\n        if(this.use_default_type){\r\n            this.registerTableType('datatable', function(table_type){\r\n                table_type.mergeSettings(this.default_table_settings.properties);\r\n            }.bind(this));\r\n        }\r\n\r\n        for(var i in this.table_types){\r\n            this.installTableType(this.table_types[i].getId(), this.table_types[i], Vue);\r\n        }\r\n    }\r\n\r\n    installTableType(id, table_type, Vue){\r\n        Vue.component(id, table_type.getTableDefinition());\r\n        Vue.component(id + '-pager', table_type.getPagerDefinition());\r\n    }\r\n}\r\n\r\nexport default DatatableFactory;\r\n","import DatatableFactory from '../index';\r\n\r\nwindow.Vue.use(DatatableFactory)\r\n"],"names":["module","toStr","Object","prototype","toString","hasOwnProperty","obj","prop","call","isEmpty","value","isArray","length","i","type","Array","getKey","key","intKey","parseInt","factory","options","objectPath","keys","reduce","proxy","bind","hasShallowProperty","includeInheritedProps","getShallowProperty","set","path","doNotReplace","split","map","currentPath","currentValue","slice","has","j","ensureExists","insert","at","arr","get","splice","empty","isBoolean","isObject","push","apply","arguments","coalesce","paths","defaultValue","len","nextObj","del","mod","create","withInheritedProps","Settings","constructor","properties","table","class","row","classes","sorting","canSort","sortNone","sortAsc","sortDesc","pager","li","a","selected","disabled","icons","previous","next","this","merge","settings","_mergeObjects","obj_1","obj_2","Column","props","setAlignment","align","label","field","representedAs","component","interpolate","headerComponent","sortable","isSortable","filterable","isFilterable","headerClass","toLowerCase","getRepresentation","plain_text_function","getValue","matches","filter_string","indexOf","Handler","filterHandler","handleFilter","sortHandler","handleSort","paginateHandler","handlePaginate","displayHandler","handleDisplay","data","filter","columns","filter_strings","matched","rowMatches","filtered_data","sort_column","sort_dir","sort","b","value_a","value_b","sort_val","sorted_data","page_count","page_number","start_index","end_index","processed_data","process_steps","setRows","setTotalRowCount","TableType","id","handler","getId","setFilterHandler","closure","setSortHandler","setPaginateHandler","setDisplayHandler","setting","undefined","mergeSettings","getTableDefinition","definition","clone","VueDatatable","name","getPagerDefinition","VueDatatablePager","copy","attr","Error","table_types","use_default_type","default_table_settings","useDefaultType","registerTableType","component_name","callback","table_type","install","Vue","$datatables","VueDatatableCell","VueDatatableHeader","VueDatatablePagerButton","installTableType","window","use","DatatableFactory"],"mappings":"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"}