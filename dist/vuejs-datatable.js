!function(){"use strict";function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){for(var n=0;n<e.length;n++){var s=e[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}function s(t,e,s){return e&&n(t.prototype,e),s&&n(t,s),t}var i={props:{column:[Object,Array],row:[Object,Array]},computed:{content:function(){return this.column.getRepresentation(this.row)}}};var r=function(t,e,n,s,i,r,a,o,l,u){"boolean"!=typeof a&&(l=o,o=a,a=!1);var c,h="function"==typeof n?n.options:n;if(t&&t.render&&(h.render=t.render,h.staticRenderFns=t.staticRenderFns,h._compiled=!0,i&&(h.functional=!0)),s&&(h._scopeId=s),r?(c=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),e&&e.call(this,l(t)),t&&t._registeredComponents&&t._registeredComponents.add(r)},h._ssrRegister=c):e&&(c=a?function(){e.call(this,u(this.$root.$options.shadowRoot))}:function(t){e.call(this,o(t))}),c)if(h.functional){var d=h.render;h.render=function(t,e){return c.call(e),d(t,e)}}else{var p=h.beforeCreate;h.beforeCreate=p?[].concat(p,c):[c]}return n};const a=i;i.__file="vue-datatable-cell.vue";var o=r({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("td",{style:{"text-align":t.column.align}},[t.column.component?n(t.column.component,{tag:"component",attrs:{row:t.row,column:t.column}}):t.column.interpolate?n("span",{domProps:{innerHTML:t._s(t.content)}}):n("span",[t._v(t._s(t.content))])],1)},staticRenderFns:[]},void 0,a,void 0,!1,void 0,void 0,void 0),l={props:{model:{prop:"direction",event:"change"},column:[Object,Array],settings:Object,direction:{type:String,default:null}},computed:{canSort:function(){return this.column.sortable},is_sorted_ascending:function(){return"asc"===this.direction},is_sorted_descending:function(){return"desc"===this.direction},is_sorted:function(){return this.is_sorted_descending||this.is_sorted_ascending},classes:function(){var t=this.settings.get("table.sorting.classes"),e=t.canSort;return this.canSort?this.is_sorted?(this.is_sorted_ascending&&(e=e.concat(t.sortAsc)),this.is_sorted_descending&&(e=e.concat(t.sortDesc)),this.joinClasses(e)):(e=e.concat(t.sortNone),this.joinClasses(e)):""}},methods:{joinClasses:function(t){return this.unique(t).join(" ")},toggleSort:function(t){t&&(this.direction&&null!==this.direction?"asc"===this.direction?this.$emit("change","desc",this.column):this.$emit("change",null,this.column):this.$emit("change","asc",this.column))},unique:function(t){var e={};return t.filter(function(t){return!e.hasOwnProperty(t)&&(e[t]=!0)})}}};const u=l;l.__file="vue-datatable-header.vue";var c=r({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("th",{class:[t.column.headerClass,t.column.sortable?"sortable":""],style:{"text-align":t.column.align},on:{click:function(e){t.toggleSort(t.column.sortable)}}},[t.column.headerComponent?n(t.column.headerComponent,{tag:"component",attrs:{column:t.column}}):n("span",[t._v(t._s(t.column.label))]),t._v(" "),t.column.sortable?n("span",{class:t.classes}):t._e()],1)},staticRenderFns:[]},void 0,u,void 0,!1,void 0,void 0,void 0);"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;var h,d=(function(t){t.exports=function(){var t=Object.prototype.toString;function e(t,e){return null!=t&&Object.prototype.hasOwnProperty.call(t,e)}function n(t){if(!t)return!0;if(i(t)&&0===t.length)return!0;if("string"!=typeof t){for(var n in t)if(e(t,n))return!1;return!0}return!1}function s(e){return t.call(e)}var i=Array.isArray||function(e){return"[object Array]"===t.call(e)};function r(t){var e=parseInt(t);return e.toString()===t?e:t}function a(t){t=t||{};var a=function(t){return Object.keys(a).reduce(function(e,n){return"create"===n?e:("function"==typeof a[n]&&(e[n]=a[n].bind(a,t)),e)},{})};function o(n,s){return t.includeInheritedProps||"number"==typeof s&&Array.isArray(n)||e(n,s)}function l(t,e){if(o(t,e))return t[e]}function u(t,e,n,s){if("number"==typeof e&&(e=[e]),!e||0===e.length)return t;if("string"==typeof e)return u(t,e.split(".").map(r),n,s);var i=e[0],a=l(t,i);return 1===e.length?(void 0!==a&&s||(t[i]=n),a):(void 0===a&&("number"==typeof e[1]?t[i]=[]:t[i]={}),u(t[i],e.slice(1),n,s))}return a.has=function(n,s){if("number"==typeof s?s=[s]:"string"==typeof s&&(s=s.split(".")),!s||0===s.length)return!!n;for(var a=0;a<s.length;a++){var o=r(s[a]);if(!("number"==typeof o&&i(n)&&o<n.length||(t.includeInheritedProps?o in Object(n):e(n,o))))return!1;n=n[o]}return!0},a.ensureExists=function(t,e,n){return u(t,e,n,!0)},a.set=function(t,e,n,s){return u(t,e,n,s)},a.insert=function(t,e,n,s){var r=a.get(t,e);s=~~s,i(r)||(r=[],a.set(t,e,r)),r.splice(s,0,n)},a.empty=function(t,e){var r,l;if(!n(e)&&null!=t&&(r=a.get(t,e))){if("string"==typeof r)return a.set(t,e,"");if(function(t){return"boolean"==typeof t||"[object Boolean]"===s(t)}(r))return a.set(t,e,!1);if("number"==typeof r)return a.set(t,e,0);if(i(r))r.length=0;else{if(!function(t){return"object"==typeof t&&"[object Object]"===s(t)}(r))return a.set(t,e,null);for(l in r)o(r,l)&&delete r[l]}}},a.push=function(t,e){var n=a.get(t,e);i(n)||(n=[],a.set(t,e,n)),n.push.apply(n,Array.prototype.slice.call(arguments,2))},a.coalesce=function(t,e,n){for(var s,i=0,r=e.length;i<r;i++)if(void 0!==(s=a.get(t,e[i])))return s;return n},a.get=function(t,e,n){if("number"==typeof e&&(e=[e]),!e||0===e.length)return t;if(null==t)return n;if("string"==typeof e)return a.get(t,e.split("."),n);var s=r(e[0]),i=l(t,s);return void 0===i?n:1===e.length?i:a.get(t[s],e.slice(1),n)},a.del=function(t,e){if("number"==typeof e&&(e=[e]),null==t)return t;if(n(e))return t;if("string"==typeof e)return a.del(t,e.split("."));var s=r(e[0]);return o(t,s)?1!==e.length?a.del(t[s],e.slice(1)):(i(t)?t.splice(s,1):delete t[s],t):t},a}var o=a();return o.create=a,o.withInheritedProps=a({includeInheritedProps:!0}),o}()}(h={exports:{}},h.exports),h.exports),p=d.get,f=d.set,g=function(){function n(){e(this,n),this.properties={table:{class:"table table-hover table-striped table-bordered",row:{classes:[""]},sorting:{classes:{canSort:["sort"],sortNone:[""],sortAsc:["sort-asc"],sortDesc:["sort-desc"]}}},pager:{classes:{pager:["pagination","mb-0"],li:"page-item",a:"page-link",selected:"active",disabled:"disabled"},icons:{previous:"&lt;",next:"&gt;"}}}}return s(n,[{key:"get",value:function(t){return p(this.properties,t)}},{key:"set",value:function(t,e){return f(this.properties,t,e),this}},{key:"merge",value:function(t){return this.properties=this._mergeObjects(this.properties,t),this}},{key:"_mergeObjects",value:function(e,n){for(var s in n)null!==n[s]?"object"!==t(n[s])?e[s]=n[s]:e[s]=this._mergeObjects(e[s],n[s]):e[s]=n[s];return e}}]),n}(),_={props:{disabled:{type:Boolean,default:!1},selected:{type:Boolean,default:!1},value:{type:Number,default:null},prevNext:{type:Boolean,default:!1}},computed:{li_classes:function(){var t=[];return this.settings.get("pager.classes.li")&&t.push(this.settings.get("pager.classes.li")),this.disabled&&t.push(this.settings.get("pager.classes.disabled")),this.selected&&t.push(this.settings.get("pager.classes.selected")),t.join(" ")},a_classes:function(){var t=[];return this.settings.get("pager.classes.a")&&t.push(this.settings.get("pager.classes.a")),t.join(" ")},settings:function(){return this.$parent.settings}},methods:{sendClick:function(){this.disabled||this.$emit("click",this.value)}}};const b=_;_.__file="vue-datatable-pager-button.vue";var v=r({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("li",{class:t.li_classes},[n("a",{class:[t.a_classes,!0===t.prevNext?"px-3 px-md-4":""],attrs:{href:"javascript: void(0);"},on:{click:t.sendClick}},[t._t("default",[t._v(t._s(t.value))])],2)])},staticRenderFns:[]},void 0,b,void 0,!1,void 0,void 0,void 0),y=function(){function t(n){e(this,t),this.setAlignment(n.align),this.label=n.label||"",this.field=n.field||null,this.representedAs=n.representedAs||null,this.component=n.component||null,this.interpolate=n.interpolate||!1,this.headerComponent=n.headerComponent||null,this.sortable=this.isSortable(n),this.filterable=this.isFilterable(n),this.headerClass=n.headerClass||""}return s(t,[{key:"setAlignment",value:function(t){return t&&"string"==typeof t?"center"===t.toLowerCase()?(this.align="center",this):"right"===t.toLowerCase()?(this.align="right",this):(this.align="left",this):(this.align="left",this)}},{key:"isFilterable",value:function(t){return!1!==t.filterable&&(!(!t.field&&!t.representedAs)&&!(this.component&&!this.representedAs&&!this.field))}},{key:"isSortable",value:function(t){return!1!==t.sortable&&(!(!t.field&&!t.representedAs)&&!(this.component&&!this.representedAs&&!this.field))}},{key:"getRepresentation",value:function(t){return this.representedAs&&"function"==typeof this.representedAs?this.representedAs(t):this.component&&this.filterable?this.plain_text_function(t,this):p(t,this.field)}},{key:"getValue",value:function(t){return this.getRepresentation(t)}},{key:"matches",value:function(t,e){return-1!==(""+this.getRepresentation(t)).toLowerCase().indexOf(e.toLowerCase())}}]),t}(),m={props:{name:{type:String,default:"default"},columns:[Object,Array],data:[Object,Array,String,Function],filterBy:{type:[String,Array],default:null},rowClasses:{type:[String,Array,Object,Function],default:null}},data:function(){return{sort_by:null,sort_dir:null,total_rows:0,page:1,per_page:null,processed_rows:[],selected_rows:[]}},computed:{rows:function(){return this.data.slice(0)},settings:function(){return this.$options.settings},handler:function(){return this.$options.handler},normalized_columns:function(){return this.columns.map(function(t){return new y(t)})},table_class:function(){return this.settings.get("table.class")}},methods:{getSortDirectionForColumn:function(t){return this.sort_by!==t?null:this.sort_dir},setSortDirectionForColumn:function(t,e){this.sort_by=e,this.sort_dir=t},processRows:function(){if("function"!=typeof this.data){var t=this.handler.filterHandler(this.rows,this.filterBy,this.normalized_columns),e=this.handler.sortHandler(t,this.sort_by,this.sort_dir),n=this.handler.paginateHandler(e,this.per_page,this.page);this.handler.displayHandler(n,{filtered_data:t,sorted_data:e,paged_data:n},this.setRows,this.setTotalRowCount)}else{var s={filter:this.filterBy,sort_by:this.sort_by?this.sort_by.field:null,sort_dir:this.sort_dir,page_length:this.per_page,page_number:this.page};this.data(s,function(t,e){this.setRows(t),this.setTotalRowCount(e)}.bind(this))}},setRows:function(t){this.processed_rows=t},setTotalRowCount:function(t){this.total_rows=t},getRowClasses:function(t){var e=this.rowClasses;return null===e&&(e=this.settings.get("table.row.classes")),"function"==typeof e?e(t):e}},created:function(){this.$datatables[this.name]=this,this.$root.$emit("table.ready",this.name),this.$watch(function(){return this.data}.bind(this),this.processRows,{deep:!0}),this.$watch("columns",this.processRows),this.$watch(function(){return this.filterBy+this.per_page+this.page+this.sort_by+this.sort_dir}.bind(this),this.processRows),this.processRows()},handler:null,settings:null};const w=m;m.__file="vue-datatable.vue";var k=r({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("table",{class:t.table_class},[n("thead",[n("tr",t._l(t.normalized_columns,function(e,s){return n("datatable-header",{key:s,attrs:{column:e,settings:t.settings,direction:t.getSortDirectionForColumn(e)},on:{change:t.setSortDirectionForColumn}})}),1)]),t._v(" "),n("tbody",[t._l(t.processed_rows,function(e,s){return t._t("default",[n("tr",{key:s,class:t.getRowClasses(e)},t._l(t.normalized_columns,function(t,s){return n("datatable-cell",{key:s,attrs:{column:t,row:e}})}),1)],{row:e,columns:t.normalized_columns})}),t._v(" "),0==t.processed_rows.length?n("tr",[n("td",{attrs:{colspan:t.normalized_columns.length}},[t._t("no-results")],2)]):t._e()],2),t._v(" "),t.$slots.footer||t.$scopedSlots.footer?n("tfoot",[t._t("footer",null,{rows:t.processed_rows})],2):t._e()])},staticRenderFns:[]},void 0,w,void 0,!1,void 0,void 0,void 0),C={model:{prop:"page",event:"change"},props:{table:{type:String,default:"default"},type:{type:String,default:"long"},perPage:{type:Number,default:10},page:{type:Number,default:1}},data:function(){return{table_instance:null}},computed:{show:function(){return this.table_instance&&this.total_rows>0},total_rows:function(){return this.table_instance?this.table_instance.total_rows:0},pagination_class:function(){return this.settings.get("pager.classes.pager")},disabled_class:function(){return this.settings.get("pager.classes.disabled")},previous_link_classes:function(){return this.page-1<1?this.settings.get("pager.classes.disabled"):""},next_link_classes:function(){return this.page+1>this.total_pages?this.settings.get("pager.classes.disabled"):""},total_pages:function(){return this.total_rows>0?Math.ceil(this.total_rows/this.perPage):0},previous_icon:function(){return this.settings.get("pager.icons.previous")},next_icon:function(){return this.settings.get("pager.icons.next")},settings:function(){return this.$options.settings}},methods:{setPageNum:function(t){this.table_instance.page=t,this.table_instance.per_page=this.perPage,this.$emit("change",t)},getClassForPage:function(t){return this.page==t?this.settings.get("pager.classes.selected"):""}},watch:{total_rows:function(){this.page>this.total_pages&&this.setPageNum(this.total_pages)},perPage:function(){var t=this.page;t>this.total_pages&&(t=this.total_pages),this.setPageNum(t)}},created:function(){if(this.$datatables[this.table])return this.table_instance=this.$datatables[this.table],void(this.table_instance.per_page=this.perPage);this.$root.$on("table.ready",function(t){t===this.table&&(this.table_instance=this.$datatables[this.table],this.table_instance.per_page=this.perPage)}.bind(this))},settings:null};const S=C;C.__file="vue-datatable-pager.vue";var $=r({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.show?n("nav",{staticClass:"d-flex align-items-center mb-2"},["abbreviated"===t.type?n("ul",{class:t.pagination_class},[n("datatable-button",{attrs:{disabled:t.page-1<1,value:t.page-1,prevNext:!0},on:{click:t.setPageNum}}),t._v(" "),t.page-3>=1?n("datatable-button",{attrs:{value:1},on:{click:t.setPageNum}}):t._e(),t._v(" "),t.page-4>=1?n("datatable-button",{attrs:{disabled:""}},[t._v("...")]):t._e(),t._v(" "),t.page-2>=1?n("datatable-button",{attrs:{value:t.page-2},on:{click:t.setPageNum}}):t._e(),t._v(" "),t.page-1>=1?n("datatable-button",{attrs:{value:t.page-1},on:{click:t.setPageNum}}):t._e(),t._v(" "),n("datatable-button",{attrs:{value:t.page,selected:""}}),t._v(" "),t.page+1<=t.total_pages?n("datatable-button",{attrs:{value:t.page+1},on:{click:t.setPageNum}}):t._e(),t._v(" "),t.page+2<=t.total_pages?n("datatable-button",{attrs:{value:t.page+2},on:{click:t.setPageNum}}):t._e(),t._v(" "),t.page+4<=t.total_pages?n("datatable-button",{attrs:{disabled:""}},[t._v("...")]):t._e(),t._v(" "),t.page+3<=t.total_pages?n("datatable-button",{attrs:{value:t.total_pages},on:{click:t.setPageNum}}):t._e(),t._v(" "),n("datatable-button",{attrs:{disabled:t.page+1>t.total_pages,value:t.page+1,prevNext:!0},on:{click:t.setPageNum}})],1):"long"===t.type?n("ul",{class:t.pagination_class},t._l(t.total_pages,function(e){return n("datatable-button",{key:e,attrs:{value:e,selected:e===t.page},on:{click:t.setPageNum}})}),1):"short"===t.type?n("ul",{class:t.pagination_class},[n("datatable-button",{attrs:{value:t.page,selected:""}})],1):t._e()]):t._e()},staticRenderFns:[]},void 0,S,void 0,!1,void 0,void 0,void 0),P=function(){function t(){e(this,t),this.filterHandler=this.handleFilter,this.sortHandler=this.handleSort,this.paginateHandler=this.handlePaginate,this.displayHandler=this.handleDisplay}return s(t,[{key:"handleFilter",value:function(t,e,n){return e?(Array.isArray(e)||(e=[e]),t.filter(function(t){for(var s in e){var i=e[s].split(/\s/),r=!0;for(var a in i)this.rowMatches(t,i[a],n)||(r=!1);if(r)return!0}return!1}.bind(this))):t}},{key:"rowMatches",value:function(t,e,n){for(var s in n)if(n[s].matches(t,e))return!0;return!1}},{key:"handleSort",value:function(t,e,n){return e&&null!==n?t.sort(function(t,s){var i=e.getRepresentation(t),r=e.getRepresentation(s);if(i==r)return 0;var a=i>r?1:-1;return"desc"===n&&(a*=-1),a}):t}},{key:"handlePaginate",value:function(t,e,n){if(!e)return t;n<1&&(n=1);var s=(n-1)*e,i=n*e;return t.slice(s,i)}},{key:"handleDisplay",value:function(t,e,n,s){n(t),s(e.filtered_data.length)}}]),t}(),j=function(){function n(t){e(this,n),this.id=t,this.handler=new P,this.settings=new g}return s(n,[{key:"getId",value:function(){return this.id}},{key:"setFilterHandler",value:function(t){return this.handler.filterHandler=t,this}},{key:"setSortHandler",value:function(t){return this.handler.sortHandler=t,this}},{key:"setPaginateHandler",value:function(t){return this.handler.paginateHandler=t,this}},{key:"setDisplayHandler",value:function(t){return this.handler.displayHandler=t,this}},{key:"setting",value:function(t,e){return void 0===e?this.settings.get(t):(this.settings.set(t,e),this)}},{key:"mergeSettings",value:function(t){return this.settings.merge(t),this}},{key:"getTableDefinition",value:function(){var t=this.clone(k);return t.handler=this.handler,t.settings=this.settings,t.name=this.id,t}},{key:"getPagerDefinition",value:function(){var t=this.clone($);return t.settings=this.settings,t.name=this.id,t}},{key:"clone",value:function(e){var n;if(null===e||"object"!==t(e))return e;if(e instanceof Array){n=[];for(var s=0;s<e.length;s++)n[s]=this.clone(e[s]);return n}if(e instanceof Object){for(var i in n={},e)e.hasOwnProperty(i)&&(n[i]=this.clone(e[i]));return n}throw new Error("Unable to copy obj! Its type isn't supported.")}}]),n}(),R=new(function(){function t(){e(this,t),this.table_types=[],this.use_default_type=!0,this.default_table_settings=new g}return s(t,[{key:"useDefaultType",value:function(t){return this.use_default_type=!!t,this}},{key:"registerTableType",value:function(t,e){var n=new j(t);return this.table_types.push(n),e&&"function"==typeof e&&e(n),this}},{key:"install",value:function(t){for(var e in t.prototype.$datatables={},t.component("datatable-cell",o),t.component("datatable-header",c),t.component("datatable-button",v),this.use_default_type&&this.registerTableType("datatable",function(t){t.mergeSettings(this.default_table_settings.properties)}.bind(this)),this.table_types)this.installTableType(this.table_types[e].getId(),this.table_types[e],t)}},{key:"installTableType",value:function(t,e,n){n.component(t,e.getTableDefinition()),n.component(t+"-pager",e.getPagerDefinition())}}]),t}());window.Vue.use(R)}();
//# sourceMappingURL=vuejs-datatable.js.map
